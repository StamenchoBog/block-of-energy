---
import type { TasmotaDevice } from '../lib/mockData';

interface Props {
    device: TasmotaDevice;
}

const { device } = Astro.props;
const { deviceId, payload, isOnline } = device;
const { ENERGY, Wifi } = payload;
---
<div class="card bg-base-100 shadow-xl transition-all hover:shadow-2xl hover:-translate-y-1">
    <div class="card-body">
        <div class="flex justify-between items-start">
            <h2 class="card-title">{deviceId}</h2>
            <div class:list={[
                "badge badge-lg",
                isOnline ? "badge-success" : "badge-warning"
            ]}>
                {isOnline ? 'Online' : 'Offline'}
            </div>
        </div>
        <p class="text-sm text-gray-500">WiFi: {Wifi.SSId} ({Wifi.Signal} dBm)</p>

        <div class="grid grid-cols-2 gap-4 my-4 text-center">
            <div>
                <div class="text-gray-500 text-sm">Power</div>
                <div class="text-2xl font-bold">{ENERGY.Power}<span class="text-lg font-normal"> W</span></div>
            </div>
            <div>
                <div class="text-gray-500 text-sm">Voltage</div>
                <div class="text-2xl font-bold">{ENERGY.Voltage}<span class="text-lg font-normal"> V</span></div>
            </div>
        </div>
    </div>
</div>
